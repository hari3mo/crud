{% extends "base.html" %}

{% block title %}Opportunities List{% endblock %}

{% block content %}

{% for message in get_flashed_messages() %}
    <div class="alert alert-secondary alert-dismissible fade show" role="alert">
        {{message}}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}
    <div class="opportunitiesMenu">  <!-- menu-->

        <a class="btn btn-secondary btn-lg" href="{{ url_for('new_opportunity') }}" role="button">New Opportunity</a>
        <a class="btn btn-secondary btn-lg" href="#" role="button">Opportunities List</a>
        <a class="btn btn-secondary btn-lg" href="#" role="button">Pipeline View</a>    
        <a class="btn btn-secondary btn-lg" href="#" role="button">Sales & Forecasts</a>

    </div>
    <br>
    <h1 class="text-center"><strong>Opportunities List</strong></h1>
<br>
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th scope="col">Company Name</th>
            <th scope="col">Lead Name</th>
            <th scope="col">Lead Contact</th>
            <th scope="col">Opportunity</th>
            <th scope="col">Value</th>
            <th scope="col">Stage</th>
            <th scope="col">Creation Date</th>
            <th scope="col">Close Date</th>
        </tr>
    </thead>
    <tbody>
        {% for opportunity in opportunities %}
        <tr>
            <th scope="row"><a class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" 
                href="{{ url_for('update_account', id=account.AccountID) }}">{{ account.CompanyName }}</th>
            <td>{{ account.EmployeeHeadCount }}</td>
            <td>{{ account.CompanyIndustry }}</td>
            <td>{{ account.CompanySpecialties }}</td>
            <td>{{ account.CompanyType }}</td>
            <td>{{ account.Country }}</td>
            <td>{{ account.City }}</td>
            <td>{{ account.Timezone }}</td>
        </tr>
        {% endfor %}
</table>

{% endblock %}